<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />	
		<title></title>
		<link rel="stylesheet" href="css/mui.css" />
		<link rel="stylesheet" href="css/iconfont.css" />
		<script type="text/javascript" src="js/mui.min.js" ></script>
	</head>
	<body>
		<nav class="mui-bar mui-bar-tab" id="nav-tabbar"> 
		    <a class="mui-tab-item mui-active" id="sub1">
				<span class="mui-icon iconfont icon-chongzhi"></span>
				<span class="mui-tab-label"  >首页</span>
		    </a>
		    <a class="mui-tab-item" id="sub2">
				<span class="mui-icon iconfont  icon-huankuan1"></span>
				<span class="mui-tab-label"  >还款</span>
		    </a>
		    <a class="mui-tab-item" id="sub3">
				<span class="mui-icon iconfont icon-ren"></span>
				<span class="mui-tab-label"  >我的</span>
		    </a>
  	    </nav>

<script>
		
		var defaultpage = "subpages/sub1.html";	// 定义默认选项卡子页面
		
		// 定义所有子页面
		var subpages = ['subpages/sub1.html', 'subpages/sub2.html', 'subpages/sub3.html'];
		
		// 页面加载完成后加载子页面
		mui.plusReady(function(){
			var current =  plus.webview.currentWebview();	//获取当前页面的窗口对象
			
			// 加载所有子页面
			for(var i =0;i<5;i++){
				var sub = plus.webview.create(
					subpages[i], 
                    subpages[i], 
                    {
                        top: '0px', 
                        bottom: '50px' 
                    }
				);
				// 除默认页面外，其他子页面隐藏
				if(subpages[i] != defaultpage){
					sub.hide();
				}
				current.append(sub);	// 子页面加入窗口对象
			}
		});
		
		// 创建点击事件
		mui("#nav-tabbar").on("tap","a",function(e){
			plus.webview.hide(defaultpage);		// 隐藏上一个子页面
			plus.webview.show('subpages/'+this.id + ".html")	// 显示当前点击页面
			defaultpage = 'subpages/'+this.id + ".html";	// 记录当前点击页面
		})
 
	</script>

	</body>
</html>
